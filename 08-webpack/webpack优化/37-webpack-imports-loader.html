<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>37-webpack-imports-loader</title>
</head>
<body>
<!--
1.什么是imports-loader?
https://www.webpackjs.com/loaders/imports-loader/
https://www.npmjs.com/package/imports-loader
imports-loader和Provide-Plugin功能一样可以实现全局导入,
但是imports-loader的功能比Provide-Plugin更强大,
imports-loader除了可以实现全局导入以外, 还可以修改全局this指向
默认情况下模块中的this指向一个空对象, 我们可以通过imports-loader实现让this指向window

1.如果通过imports-loader修改了模块中this的指向,
那么imports-loader会自动将模块中的所有代码放到一个自调用函数中
(function () {
    // my module
}.call(window));

2.如果在模块中用到了import, 那么在ES Module的规范中
import语句必须写在最前面, 否则就会报错

3.所以如果通过imports-loader修改了模块中this的指向,
而在模块中又用到了import, 那么import就不在第一行了,
这就导致了在打包时候import不在第一行, 会报错

2.imports-loader注意点:
2.1在企业开发中如何需要实现全局导入, 更推荐使用ProvidePlugin来实现
   因为ProvidePlugin是webpack内置的官方插件更靠谱
2.2使用imports-loader修改this指向, 系统会自动将我们的代码放到一个立即执行函数中
2.3如何解决?
无需修改this指向, 直接在模块中使用window
-->
</body>
</html>
