<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>02-Vue响应式原理中</title>
</head>
<body>
<script>
	/*
    1.defineProperty方法
    defineProperty除了可以动态修改/新增对象的属性以外
    还可以在修改/新增的时候给该属性添加get/set方法
    2.defineProperty get/set方法特点
    只要通过defineProperty给某个属性添加了get/set方法
    那么以后只要获取这个属性的值就会自动调用get, 设置这个属性的值就会自动调用set
    3.注意点:
    如果设置了get/set方法, 那么就不能通过value直接赋值, 也不能编写writable:true
    * */
	let obj = {};
	let oldValue = '张三';
	Object.defineProperty(obj, 'name', {
		// value: oldValue,
		// writable: true,
		configurable: true,
		enumerable: true,
		get(){
			console.log("get方法被执行了");
			return oldValue;
		},
		set(newValue){
			if(oldValue !== newValue){
				console.log("set方法被执行了");
				oldValue = newValue;
			}
		}
	});
	console.log(obj, obj.name);
	obj.name = '李四';
	console.log(obj, obj.name);
</script>
</body>
</html>
